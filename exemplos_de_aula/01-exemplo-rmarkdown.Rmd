---
title: "Apresentações com xaringan"
author: "XXX XXX"
output: html_document
#output: prettydoc::html_document
#output: word_document
#output: pptx_document
---

```{r setup, include=FALSE}

# na hora de criar o rmarkdown vamos deixar a parte do código que já vem no template, mas vamos comentar código com #
# e dizer que vamos explicar para que essa parte serve depois
#
# options(htmltools.dir.version = FALSE)
# 
# knitr::opts_chunk$set(fig.align = "center",
#                       message = FALSE,
#                       warning = FALSE,
#                       echo = FALSE
#                       )
```

<!-- o live-coding começa aqui -->

Rmarkdown é um arquivo de texto que aceita uma série de padrões para formatar o seu texto.
Escrevendo com um asterisco você deixa o seu texto em itálico: *texto* entre dois asteriscos o texto fica em negrito **texto**.

Para transformar o seu texto em um documento você pode usar o atalho ctrl+shift+k ou clicar no botão "Knit" na barra do editor de texto. Neste arquivo o cabeçalho define que o arquivo gerado será um arquivo 

Textos com uma ou mais hashtags viram títulos:

# Título muito grande

## Título grande

### Título médio

#### Título pequeno

Podemos incluir textos com links [texto](http://google.com). Podemos até escrever textos grandes [link para o site da Curso-R](https://curso-r.com). Para deixar o texto em formato de código coloque-o entre crases `texto`

Nesse exemplo estamos utilizando o arquivo `.Rmd` para escrever um documento que é compilado para um arquivo `.html`.

Esse arquivo `.html` é interpretado pelo navegador (ex. Chrome ou Internet Explorer).

Podemos alterar o formato do arquivo de saída no parâmetro `output` do cabeçalho.

Se quisermos que o arquivo de saída seja um arquivo `.docx`, que pode ser interpretado pelo Microsoft Word ou Libre Office.
Para isso alteramos a linha `output: html_document` para `output: word_document`

Até agora nós só mexemos com textos dentro de um arquivo `.Rmd`, mas também é possível colocar código em R 

Podemos colocar código em R no meio do texto, como o ggplot2 abaixo. Esse código em R dentro de um `.Rmd` se chama `chunk`

```{r}
#codigo em R aqui
library(ggplot2)
library(magrittr)

ggplot(mtcars, aes(x = wt, y = mpg)) + 
  geom_point()
```

Também podemos colocar tabelas, para isso usamos a função `kable` do pacote `knitr`

```{r}
# aqui é impornante mencionar que os chunks são rodados em ordem, então um library que vc deu antes continua
# valendo nos chunks seguintes

mtcars %>% 
  head(5) %>% 
  knitr::kable()
```

Outra maneira de colocar o resultado de um código em R dentro do seu texto é usando apenas uma crase: como por exemplo `r 1+1`

Por padrão todos os resultados de `chunks` aparecem no documento final, assim como o código que gerou o resultado. 
Podemos alterar esse comportamento e muitos outros usando a primeira linha do chunk, dentro das chaves. 

Para avisar ao `.Rmd` que o código do chunk não deve ser exposto, usamos a opção de chunk `echo` assumindo o valor `FALSE`

```{r, echo = FALSE}
mtcars %>% 
  head(5) %>% 
  knitr::kable()
```

Os chunks de um `.Rmd` aceitam várias opção de chunk, que podemos consultar no site https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf

Alguns muito importantes são `eval`, `message`,
```{r, eval = FALSE}
# faz o RMD pular esse chunk

#codigo em R aqui
library(ggplot2)
library(magrittr)

ggplot(mtcars, aes(x = wt, y = mpg)) + 
  geom_point()
```

Podemos até 

```{r, eval = FALSE, echo=TRUE}
# faz o RMD pular esse chunk

#codigo em R aqui
library(ggplot2)
library(magrittr)

ggplot(mtcars, aes(x = wt, y = mpg)) + 
  geom_point()
```

```{r, echo = FALSE, message = FALSE}
# remove um código que tem warnings

library(tidyverse)

#codigo em R aqui
library(ggplot2)
library(magrittr)

ggplot(mtcars, aes(x = cyl, y = mpg)) + 
  geom_point()
```

E depois para mexer com imagens: `fig.align` e `out.width` 

```{r, echo = FALSE, out.width = "50%"}
# remove um código que tem warnings

#codigo em R aqui
library(ggplot2)
library(magrittr)

# PRECISAMOS COLOCA UM EXEMPLO QUE DE WARNING AQUI

ggplot(mtcars, aes(x = cyl, y = mpg)) + 
  geom_point()
```

```{r, echo = FALSE, out.width = "50%", fig.align = "center"}
# remove um código que tem warnings

#codigo em R aqui
library(ggplot2)
library(magrittr)

# PRECISAMOS COLOCA UM EXEMPLO QUE DE WARNING AQUI

ggplot(mtcars, aes(x = cyl, y = mpg)) + 
  geom_point()
```

# Caminhos e carregando dados

Os arquivos `.Rmd` são especiais porque quando a gente knita (clicando no botão que com um novelo de lã ou com
ctrl+shift+k ou command+shift+k) ele adota como referência a pasta em que está.

```{r}
getwd()
```

Como esse chunk tem apenas uma linha de conteúdo é conveniente usar a forma menos detalhada do chunk: a pasta de referência é `r getwd()`.

```{r}
library(tidyverse)
imdb <- read_rds("../dados/imdb.rds")
```

<!-- ```{r, out.width="75%", eval = FALSE, fig.cap="<center><b>Logo: <a href='https://github.com/yihui/xaringan'>Pacote xaringan</a></b></center>"} -->
<!-- knitr::include_graphics("img/hex-xaringan.png") -->
<!-- ``` -->
