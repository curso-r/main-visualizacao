<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Visualiza√ß√£o de dados</title>
    <meta charset="utf-8" />
    <meta name="author" content="" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/default-fonts.css" rel="stylesheet" />
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <script src="libs/core-js/shim.min.js"></script>
    <script src="libs/react/react.min.js"></script>
    <script src="libs/react/react-dom.min.js"></script>
    <script src="libs/reactwidget/react-tools.js"></script>
    <script src="libs/htmlwidgets/htmlwidgets.js"></script>
    <link href="libs/reactable/reactable.css" rel="stylesheet" />
    <script src="libs/reactable-binding/reactable.js"></script>
    <script src="libs/plotly-binding/plotly.js"></script>
    <script src="libs/typedarray/typedarray.min.js"></script>
    <script src="libs/jquery/jquery-3.6.0.min.js"></script>
    <link href="libs/crosstalk/css/crosstalk.min.css" rel="stylesheet" />
    <script src="libs/crosstalk/js/crosstalk.min.js"></script>
    <link href="libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
    <script src="libs/plotly-main/plotly-latest.min.js"></script>
    <link href="libs/leaflet/leaflet.css" rel="stylesheet" />
    <script src="libs/leaflet/leaflet.js"></script>
    <link href="libs/leafletfix/leafletfix.css" rel="stylesheet" />
    <script src="libs/proj4/proj4.min.js"></script>
    <script src="libs/Proj4Leaflet/proj4leaflet.js"></script>
    <link href="libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
    <script src="libs/leaflet-binding/leaflet.js"></script>
    <link rel="stylesheet" href="css/xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Visualiza√ß√£o de dados
]
.subtitle[
## üìà+üòé
]
.author[
### <img src = 'https://d33wubrfki0l68.cloudfront.net/9b0699f18268059bdd2e5c21538a29eade7cbd2b/67e5c/img/logo/cursor1-5.png' width = '30%'>
]
.date[
### Mar√ßo de 2024
]

---




class: middle, center

# Sobre a Curso-R

---

## A empresa

&lt;br&gt;

&lt;img src="https://d33wubrfki0l68.cloudfront.net/295643c6243701ae6a9bac3fb8ad467ff0ce3c84/d1785/img/logo/cursor1-41.png" width="50%" style="display: block; margin: auto;" /&gt;

&lt;br&gt;
&lt;br&gt;

&lt;img src="img/logo_r6.png" width="40%" style="display: block; margin: auto;" /&gt;

---

## Filosofia de c√≥digo aberto!

.pull-left[
<h3>Livros</h3><a href="https://livro.curso-r.com/" target="_blank">
<img src="img/hex-livro.png" width="100px"/>
</a><a href="https://curso-r.github.io/zen-do-r/index.html" target="_blank">
<img src="img/zen-do-r.png" width="100px" style="margin-left: 20px;"/>
</a>

&lt;br&gt;

<h3>Lives</h3><a href="https://www.youtube.com/c/CursoR6" target="_blank">
<img src="img/youtube.png" width="200px"/>
</a>
]

.pull-right[
<h3>Material dos cursos</h3><a href="https://github.com/curso-r" target="_blank">
<img src="img/github.png" width="230px"/>
</a>

&lt;br&gt;

<h3>Blog</h3><a href="https://blog.curso-r.com/" target="_blank">
<img src="img/blog.png" width="400px"/>
</a>
]

&lt;br&gt;

.center[
### [www.curso-r.com](https://www.curso-r.com)
]


---
## Nossos cursos

<div>
<div class="pull-left">
<div class="container center">
<div class="card">
<h2>Programa√ß√£o para Ci√™ncia de Dados</h2>
<hr style="background-color:#3bb44a;"/>
<p>
<a href="https://loja.curso-r.com/r-para-ciencia-de-dados-i.html">R para Ci√™ncia de Dados I</a>
</p>
<p>
<a href="https://loja.curso-r.com/r-para-ciencia-de-dados-ii.html">R para Ci√™ncia de Dados II</a>
</p>
<p>
<a href="https://loja.curso-r.com/r-para-ciencia-de-dados-3.html">R para Ci√™ncia de Dados III</a>
</p>
<p>
<a href="https://loja.curso-r.com/python-para-ciencia-de-dados-i.html">Python para quem usa R</a>
</p>
</div>
</div>
<br/>
<div class="container center">
<div class="card">
<h2>Web scraping</h2>
<hr style="background-color:#eeba30;"/>
<p>
<a href="https://loja.curso-r.com/web-scraping.html">Web scraping</a>
</p>
</div>
</div>
</div>
<div class="pull-right">
<div class="container center">
<div class="card">
<h2>Dashboards e Visualiza√ß√£o de Dados</h2>
<hr style="background-color:#ff6699;"/>
<p>
<a href="https://loja.curso-r.com/visualizac-o-de-dados.html">Visualiza√ß√£o de dados</a>
</p>
<p>
<a href="https://loja.curso-r.com/relatorios-e-apresentacoes-automaticas.html">Relat√≥rios e apresenta√ß√µes</a>
</p>
<p>
<a href="https://loja.curso-r.com/construindo-dashboards-i.html">Dashboards I</a>
</p>
<p>
<a href="https://loja.curso-r.com/deploy-colocando-seu-trabalho-em-produc-o.html">Deploy</a>
</p>
<p>
<a href="https://loja.curso-r.com/construindo-dashboards-ii.html">Dashboards II</a>
</p>
</div>
</div>
<br/>
<div class="container center">
<div class="card">
<h2>Modelagem de Dados</h2>
<hr style="background-color:#996699;"/>
<p>
<a href="https://loja.curso-r.com/introduc-o-ao-machine-learning.html">Introdu√ß√£o ao Machine Learning</a>
</p>
</div>
</div>
</div>
</div>

---
class: middle, center

# Sobre o curso

---
## Din√¢mica curso

- As aulas ter√£o uma se√ß√£o te√≥rica, de exposi√ß√£o de conceitos, e pr√°tica, de aplica√ß√£o de conceitos.

- O objetivo dos exerc√≠cios √© gerar d√∫vidas. **Com exce√ß√£o do trabalho final, nenhum exerc√≠cio precisa ser entregue**.

- O certificado ser√° emitido mediante uma **entrega final**, a ser detalhada a seguir. 

- Haver√° monitoria para esclarecimento de d√∫vidas sempre 30 minutos antes do in√≠cio das aulas.

- Usaremos os √∫ltimos minutos de cada aula para tirar d√∫vidas do conte√∫do apresentado. N√£o haver√° plant√£o de d√∫vidas p√≥s aula.

- A grava√ß√£o das aulas ficar√° dispon√≠vel no Google Classroom por 1 ano ap√≥s o final do curso.

---
## Din√¢mica das aulas

- Mande d√∫vidas e coment√°rios no chat em qualquer momento.

- Para falar, levante a m√£o.

- Algumas d√∫vidas ser√£o respondidas na hora. Outras ser√£o respondidas mais tarde na pr√≥pria aula ou em aulas futuras.

---
## Trabalho final

Para o TCC do curso, entregar√° um TidyTuesday! 

&lt;img src="https://github.com/rfordatascience/tidytuesday/raw/master/static/tt_logo.png" width="60%" style="display: block; margin: auto;" /&gt;


O TidyTuesday √© um evento semanal criado para engajar a comunidade no uso do R para an√°lise de dados. Se quiser conhecer mais, [siga a hashtag #tidytuesday no Twitter](https://twitter.com/hashtag/TidyTuesday)!

Mais informa√ß√µes [aqui](https://github.com/rfordatascience/tidytuesday/).

---
## Trabalho final

O resultado dever√° ser entregue em um __arquivo zip__ contendo as visualiza√ß√µes e c√≥digos. A submiss√£o deve ser feita pelo classroom, subindo um arquivo .zip contendo

- Os __c√≥digos em R__ utilizados para gerar os gr√°ficos.
- Os __gr√°ficos em imagens__ (.png, .jpeg, .gif etc)
- Um arquivo __README.md__ contando qual foi sua ideia e o processo de constru√ß√£o das visualiza√ß√µes.

__Observa√ß√µes__

- N√£o √© necess√°rio que a __base de dados__ esteja no reposit√≥rio, j√° que ela pode ser lida diretamente da internet.
- __RMarkdown/Quarto__. Se voc√™ estiver confort√°vel com relat√≥rios reprodut√≠veis, pode entregar o trabalho em um relat√≥rio ou apresenta√ß√£o √† sua escolha. Nesse caso, envie output final (em HTML, PDF, Word, etc) no lugar das imagens.
- __GitHub__. Se voc√™ estiver confort√°vel com Git/GitHub, pode entregar o link do reposit√≥rio no lugar do zip.

---
## Tire suas d√∫vidas

- **N√£o fique com d√∫vidas**.
 
- Fora do hor√°rio de aula ou monitoria:
    - envie suas perguntas gerais **sobre o curso** no Classroom.
     
    - envie preferencialmente suas perguntas **sobre R** no [nosso discourse](https://discourse.curso-r.com/).

- Saber fazer a pergunta certa vai te ajudar bastante nos estudos de programa√ß√£o. [Veja aqui dicas de como fazer uma boa pergunta](https://discourse.curso-r.com/t/como-escrever-uma-boa-pergunta/542).

---
class: middle, center, inverse

# Introdu√ß√£o

---
# Objetivos de aprendizagem

‚¨ú Compreender o papel da visualiza√ß√£o em um projeto de ci√™ncia de dados.

--

‚¨ú Compreender as diferen√ßas entre an√°lise explorat√≥ria e an√°lise descritiva.

--

‚¨ú Entender o funcionamento b√°sico do pacote `{ggplot2}`.

--

‚¨ú Utilizar o `{ggplot2}` em um problema concreto.

--

Ficaremos com esses conte√∫dos por 2 aulas!

---

# O que √© visualiza√ß√£o de dados?

.pull-left[

- √â a representa√ß√£o de dados em gr√°ficos, tabelas e diagramas que podem ser interpretados por pessoas.

- √â uma √°rea interdisciplinar, misturando estat√≠stica, arte e comunica√ß√£o.

- √â uma parte da √°rea de *data storytelling*, que envolve organizar todos os resultados de uma an√°lise de dados em uma ordem l√≥gica para comunicar de forma efetiva com a audi√™ncia.

]

.pull-right[

&lt;img src="https://raw.githubusercontent.com/allisonhorst/stats-illustrations/master/rstats-artwork/dog_treats_pipe.jpg" style="display: block; margin: auto;" /&gt;

Ilustra√ß√£o de [Allison Horst](https://www.allisonhorst.com)

]

---

# Por que fazer visualiza√ß√µes de dados?

.pull-left[

- Visualiza√ß√µes est√£o presentes na grande maioria dos projetos de ci√™ncia de dados.

- √â a parte mais acess√≠vel da ci√™ncia de dados do ponto de vista de quem l√™. Mostrar uma visualiza√ß√£o costuma ser mais efetivo do que a sa√≠da de um modelo.

- √â uma das partes mais dif√≠ceis de automatizar da ci√™ncia de dados. Uma carreira em *dataviz* dificilmente ficar√° obsoleta.

]

.pull-right[

&lt;img src="https://blog.curso-r.com/images/posts/conteudo/sf-miojo/mapa_muni_bonito_uf_cat.webp" style="display: block; margin: auto;" /&gt;

Imagem do [blog da Curso-R](https://blog.curso-r.com/posts/2019-02-10-sf-miojo/)

]

---

# Para que servem as visualiza√ß√µes?

.pull-left[

- Uma base de dados cont√©m toda a informa√ß√£o que precisamos.

- No entanto, n√£o somos capazes de tirar conclus√µes apenas olhando essas bases.

- Por isso, √© necess√°rio resumir esses dados em estat√≠sticas.

- Nem sempre as estat√≠sticas (os n√∫meros) s√£o √∫teis para uma comunica√ß√£o efetiva... Por isso, faz sentido mostr√°-las usando formas, cores e outros elementos que facilitam a absor√ß√£o da informa√ß√£o pelas pessoas.

- Para o [Hadley Wickham](https://hadley.nz), visualizar dados serve para .blue[***surpreender***].

]

.pull-right[

&lt;img src="https://raw.githubusercontent.com/allisonhorst/stats-illustrations/master/rstats-artwork/presenting_monster.png" style="display: block; margin: auto;" /&gt;

Ilustra√ß√£o de [Allison Horst](https://www.allisonhorst.com)

]

---

# Gr√°ficos bons e ruins

.pull-left[

### Gr√°ficos para evitar

- Barras que n√£o come√ßam no zero
- [Gr√°ficos de pizza](https://forum.abj.org.br/t/graficos-de-pizza-sao-ruins/41) (discut√≠vel!)
- ...

]

--

.pull-right[

### Gr√°ficos para tomar cuidado

- Gr√°ficos com dois eixos
- Gr√°ficos pouco conhecidos
- ...

]

---
class: middle,inverse,center

# Ferramental

---

# Em que momentos utilizamos?




&lt;img src="img/ciclo-ciencia-de-dados-vis.png" width="1277" style="display: block; margin: auto;" /&gt;

---

.pull-left[

## An√°lise explorat√≥ria

- √â um trabalho de __investiga√ß√£o__ de dados
- A ferramenta: precisa ser __r√°pida__ de programar
- O objetivo √© **aprender**

&lt;img src="slides_files/figure-html/unnamed-chunk-14-1.png" style="display: block; margin: auto;" /&gt;


]

--

.pull-right[

## An√°lise descritiva

- √â um trabalho de __otimiza√ß√£o visual__
- A ferramenta: precisa ser __customiz√°vel__
- O objetivo √© **comunicar**

&lt;img src="slides_files/figure-html/unnamed-chunk-15-1.png" style="display: block; margin: auto;" /&gt;


]

--

.center[
### O `{ggplot2}` permite fazer as duas coisas!
]



---

# Gram√°tica de gr√°ficos *em camadas*

O pacote `{ggplot2}` segue duas filosofias que nos ajudam a entender o processo de constru√ß√£o dos gr√°ficos:

1. Um gr√°fico estat√≠stico √© uma representa√ß√£o visual dos dados por meio de atributos est√©ticos (posi√ß√£o, cor, forma, tamanho, ...) de formas geom√©tricas (pontos, linhas, barras, ...). [The Grammar of Graphics](https://www.springer.com/gp/book/9780387245447).

2. Um gr√°fico pode ser constru√≠do em camadas (um gr√°fico √© a sobreposi√ß√£o de elementos visuais). [A layered grammar of graphics](https://vita.had.co.nz/papers/layered-grammar.html).

---

# Camadas

Para construir um gr√°fico, come√ßamos com o *canvas*. A fun√ß√£o `ggplot()` cria a primeira camada do nosso gr√°fico: uma tela em branco (cinza).

&lt;img src="slides_files/figure-html/unnamed-chunk-16-1.png" width="50%" style="display: block; margin: auto;" /&gt;

---

# Camadas

.panelset[

.panel[
.panel-name[Canvas]

&lt;img src="slides_files/figure-html/canvas-1.png" width="40%" style="display: block; margin: auto;" /&gt;

]

.panel[
.panel-name[Canvas (R)]


```r
cars |&gt; 
  ggplot()
```

&lt;img src="slides_files/figure-html/canvas-1.png" width="40%" style="display: block; margin: auto;" /&gt;

]

.panel[
.panel-name[Eixos]

&lt;img src="slides_files/figure-html/aes-mapping-1.png" width="40%" style="display: block; margin: auto;" /&gt;

]


.panel[
.panel-name[Eixos (R)]


```r
cars |&gt; 
  ggplot() +
  aes(x = speed, y = dist)
```

&lt;img src="slides_files/figure-html/aes-mapping-1.png" width="40%" style="display: block; margin: auto;" /&gt;

]

.panel[
.panel-name[Geometria]

&lt;img src="slides_files/figure-html/dispersao-1.png" width="40%" style="display: block; margin: auto;" /&gt;

]

.panel[
.panel-name[Geometria (R)]


```r
cars |&gt; 
  ggplot() +
  aes(x = speed, y = dist) +
  geom_point()
```

&lt;img src="slides_files/figure-html/dispersao-1.png" width="40%" style="display: block; margin: auto;" /&gt;

]
]

---

# Camadas

Depois, podemos trabalhar a est√©tica com temas e detalhamentos.

.panelset[
.panel[
.panel-name[Completo]

&lt;img src="slides_files/figure-html/cars-completo-1.png" style="display: block; margin: auto;" /&gt;

]
.panel[
.panel-name[Completo (R)]


```r
ggplot(cars) +
  aes(speed, dist) +
  geom_point(colour = "darkblue") +
  stat_smooth(
    se = FALSE, colour = "lightgray", 
    method = "loess", formula = "y ~ x"
  ) +
  theme_minimal(14) +
  labs(
    title = "A velocidade influencia na dist√¢ncia de parada?",
    subtitle = "Dist√¢ncia necess√°ria para parar o carro",
    caption = paste(
      "Fonte: Ezekiel, M. (1930) Methods of",
      "Correlation Analysis. Wiley"),
    x = "Velocidade", y = "Dist√¢ncia para parar"
  )
```

&lt;img src="slides_files/figure-html/cars-completo-1.png" style="display: block; margin: auto;" /&gt;

]
]

---

# Curiosidade: por que o `+`?

O `{ggplot2}`, diferentemente dos outros pacotes do `tidyverse`, n√£o usa o *pipe* (`|&gt;` ou `|&gt;` depois do R 4.1). Isso acontece pois o `{ggplot2}` surgiu [antes que o autor tomasse conhecimento do pipe](https://www.reddit.com/r/dataisbeautiful/comments/3mp9r7/comment/cvi19ly/?utm_source=share&amp;utm_medium=web2x&amp;context=3).

&lt;iframe id="reddit-embed" src="https://www.redditmedia.com/r/dataisbeautiful/comments/3mp9r7/im_hadley_wickham_chief_scientist_at_rstudio_and/cvi19ly/?depth=1&amp;amp;showmore=false&amp;amp;embed=true&amp;amp;showmedia=false" sandbox="allow-scripts allow-same-origin allow-popups" style="border: none;" height="437" width="640" scrolling="no"&gt;&lt;/iframe&gt;

---

# [D√∫vidas?](https://www.rstudio.com/resources/cheatsheets/)

&lt;img src="https://raw.githubusercontent.com/rstudio/cheatsheets/main/pngs/data-visualization.png" width="75%" style="display: block; margin: auto;" /&gt;

---

# [Qual gr√°fico escolher?](https://www.data-to-viz.com)

&lt;img src="img/data-to-viz.png" width="90%" style="display: block; margin: auto;" /&gt;

---

# Base de dados do exemplo

Para os slides a seguir, vamos usar a base do imdb. Aten√ß√£o para a coluna lucro, que criamos fazendo a diferen√ßa entre receita e or√ßamento.


```r
library(tidyverse)
imdb &lt;- read_rds("dados/imdb.rds")
imdb &lt;- imdb |&gt; mutate(lucro = receita - orcamento)
```




---
# Um gr√°fico de pontos (dispers√£o)

Podemos fazer um gr√°fico de dispers√£o da receita contra o or√ßamento dos filmes acrescentando a fun√ß√£o `geom_point()` ao c√≥digo anterior.

.tiny[

```r
imdb |&gt; 
  ggplot() +
  geom_point(aes(x = orcamento, y = receita))
```

&lt;img src="slides_files/figure-html/ggdispersao-1.png" width="360" style="display: block; margin: auto;" /&gt;
]

---
&lt;br&gt;&lt;br&gt;

Muitos pontos para discutir:

- Esse gr√°fico tem duas camadas: o canvas, gerado pela fun√ß√£o `ggplot()`, e os pontos, gerado pela fun√ß√£o `geom_point()`.

- Unimos as camadas de um ggplot usando um `+`. Sim, precisamos controlar a nossa vontade de colocar um ` |&gt; ` em vez de `+`, e essa √© uma fonte de erro bem comum. O motivo para precisarmos usar `+` em vez do `|&gt;` √© o pacote ggplot ter nascido primeiro que o pipe.

- A fun√ß√£o `geom_point()` define que a forma geom√©trica (da√≠ o prefixo `geom`) utilizada para representar os dados ser√° pontos. Existe uma fam√≠lia de fun√ß√µes `geom`, sendo que cada uma vai representar uma forma geom√©trica diferente.

- O primeiro argumento de qualquer fun√ß√£o `geom` √© o `mapping`. Esse argumento serve para mapear os dados nos atributos est√©ticos da forma geom√©trica escolhida. Ele sempre receber√° a fun√ß√£o `aes()`. No c√≥digo, n√≥s omitimos o nome do argumento, mas poder√≠amos ter escrito `geom_point(mapping = aes(x = orcamento, y = receita))`.

---
&lt;br&gt;&lt;br&gt;

- A fun√ß√£o `aes()` serve para *mapear os dados aos elementos est√©ticos do gr√°fico*. Os argumentos dela v√£o sempre depender da forma geom√©trica que estamos utilizando. No caso de um gr√°fico de pontos, precisamos definir como as posi√ß√µes do eixo x e y ser√£o constru√≠das. No exemplo, a posi√ß√£o do ponto no eixo x ser√° dada pela coluna `orcamento` e a posi√ß√£o do ponto no eixo y ser√° dada pela coluna `receita`.

- O *warning* indica quantas observa√ß√µes (linhas) precisaram ser removidas, por n√£o possuir informa√ß√£o de or√ßamento ou receita.

- Veremos nos pr√≥ximos exemplos que ser√° muito comum manipularmos a base (aplicarmos diversas fun√ß√µes do `dplyr`, por exemplo) antes de chamarmos a fun√ß√£o `ggplot`. 

**O mapeamento das COLUNAS nas FORMAS GEOM√âTRICAS deve ser SEMPRE feito dentro da fun√ß√£o `aes()`**.

---
&lt;br&gt;&lt;br&gt;

Vamos agora inserir um novo elemento visual ao gr√°fico: a reta x = y.

.tiny[

```r
imdb |&gt;
  ggplot() +
  geom_point(aes(x = orcamento, y = receita)) +
  geom_abline(intercept = 0, slope = 1, color = "red")
```

&lt;img src="slides_files/figure-html/ggreta-1.png" width="360" style="display: block; margin: auto;" /&gt;
]

---
&lt;br&gt;&lt;br&gt;

- A reta x = y √© acrescentada ao gr√°fico pela fun√ß√£o `geom_abline()`. Esse `geom` pode ser utilizado para desenhar qualquer reta do tipo `y = a + b * x`, sendo `a` o intercepto (*intercept*) da reta e `b` o seu coeficiente angular (*slope*).

- Essa reta nos permite observar o n√∫mero de filmes que obtiveram lucro (pontos acima da reta) e aqueles que obtiveram preju√≠zo (pontos abaixo da reta).

- Como n√£o estamos mapeando colunas a essa reta, n√£o precisamos colocar os argumentos da fun√ß√£o `geom_abline()` do `aes()`.

---
&lt;br&gt;&lt;br&gt;

Veja como o ggplot realmente √© constru√≠do por camadas. Agora, colocamos a camada da reta antes da camada dos pontos. Os pontos ficam em cima da reta.

.tiny[

```r
imdb |&gt;
  ggplot() +
  geom_abline(intercept = 0, slope = 1, color = "red") +
  geom_point(aes(x = orcamento, y = receita))
```

&lt;img src="slides_files/figure-html/ggretavermelha-1.png" width="360" style="display: block; margin: auto;" /&gt;
]

---
&lt;br&gt;&lt;br&gt;

Os atributos `x` e `y` s√£o necess√°rios para construirmos um gr√°fico de pontos. Outros atributos tamb√©m podem ser mapeados em pontos, como a cor. Como a coluna `lucro` √© num√©rica, um degrad√™ de cores √© criado para os pontos, a depender do lucro.

.tiny[

```r
imdb |&gt;
  ggplot() +
  geom_point(aes(x = orcamento, y = receita, color = lucro))
```

&lt;img src="slides_files/figure-html/ggdispersaoazul-1.png" width="360" style="display: block; margin: auto;" /&gt;
]

---
&lt;br&gt;&lt;br&gt;

Poder√≠amos tamb√©m classificar os filmes entre aqueles que lucraram ou n√£o. Uma cor √© atribu√≠da a cada categoria.

.tiny[

```r
imdb |&gt;
  mutate(
    lucrou = ifelse(lucro &lt;= 0, "N√£o", "Sim")
  ) |&gt;
  ggplot() +
  geom_point(aes(x = orcamento, y = receita, color = lucrou))
```

&lt;img src="slides_files/figure-html/gglucro-1.png" width="360" style="display: block; margin: auto;" /&gt;
]

---
# Gr√°fico de linhas

Utilizamos o `geom_line` para fazer gr√°ficos de linhas. Gr√°ficos de linha s√£o muito utilizados para representar *s√©ries temporais*, isto √©, observa√ß√µes medidas repetidamente em intervalos (em geral) equidistantes de tempo.

Assim como nos gr√°ficos de pontos, precisamos definir as posi√ß√µes `x` e `y` para construirmos gr√°ficos de linhas.

A seguir, constru√≠mos o gr√°fico das notas m√©dias dos filmes produzidos em cada ano, 

---
&lt;br&gt;&lt;br&gt;

.tiny[

```r
imdb |&gt; 
  group_by(ano) |&gt; 
  summarise(nota_media = mean(nota_imdb, na.rm = TRUE)) |&gt; 
  ggplot() +
  geom_line(aes(x = ano, y = nota_media))
```

&lt;img src="slides_files/figure-html/gglinha-1.png" width="576" style="display: block; margin: auto;" /&gt;
]

---
&lt;br&gt;&lt;br&gt;

Se mapearmos uma coluna √† cor das retas, ser√£o constru√≠das uma reta correspondente a cada categoria distinta dessa coluna.

.tiny[

```r
imdb |&gt; 
  filter(!is.na(idioma)) |&gt; 
  mutate(idioma_ingles = case_when(idioma == "English" ~ "Apenas Ingl√™s",
                                   str_detect(idioma, "English") ~ "Ingl√™s e outros idiomas",
                                   TRUE ~ "Outros idiomas")) |&gt;
  group_by(ano, idioma_ingles) |&gt; 
  summarise(num_filmes = n(), .groups = "drop") |&gt; 
  ggplot() +
  geom_line(aes(x = ano, y = num_filmes, color = idioma_ingles))
```

&lt;img src="slides_files/figure-html/gglinhacolorida-1.png" width="576" style="display: block; margin: auto;" /&gt;
]

---
&lt;br&gt;&lt;br&gt;

Podemos colocar pontos e retas no mesmo gr√°fico. Basta acrescentar os dois `geoms`. O gr√°fico abaixo mostra nota m√©dia anual dos filmes do Robert De Niro.


```r
imdb |&gt; 
  filter(str_detect(elenco, "Robert De Niro")) |&gt; 
  group_by(ano) |&gt; 
  summarise(nota_media = mean(nota_imdb, na.rm = TRUE)) |&gt; 
  ggplot() +
  geom_line(aes(x = ano, y = nota_media)) +
  geom_point(aes(x = ano, y = nota_media))
```

&lt;img src="slides_files/figure-html/ggdeniro-1.png" width="576" style="display: block; margin: auto;" /&gt;

---
&lt;br&gt;&lt;br&gt;

Quando precisamos usar o mesmo `aes()` em v√°rios `geoms`, podemos defini-lo dentro da fun√ß√£o `ggplot()`. Esse `aes()` ser√° ent√£o distribu√≠do para todo `geom` do gr√°fico. O c√≥digo anterior pode ser reescrito da seguinte forma.


```r
imdb |&gt; 
  filter(str_detect(elenco, "Robert De Niro")) |&gt; 
  group_by(ano) |&gt; 
  summarise(nota_media = mean(nota_imdb, na.rm = TRUE)) |&gt; 
  ggplot(aes(x = ano, y = nota_media)) +
  geom_line() +
  geom_point()
```

&lt;img src="slides_files/figure-html/gglinhaponto-1.png" width="576" style="display: block; margin: auto;" /&gt;

---
&lt;br&gt;&lt;br&gt;

Se algum `geom` necessitar de um atributo que os outros n√£o precisam, esse atributo pode ser especificado normalmente dentro dele. Abaixo, utilizamos o `geom_label` para colocar as notas m√©dias no gr√°fico. Al√©m do `x` e `y`, o `geom_label` tamb√©m precisa do texto que ser√° escrito no gr√°fico.

.tiny[

```r
imdb |&gt; 
  filter(str_detect(elenco, "Robert De Niro")) |&gt; 
  group_by(ano) |&gt; 
  summarise(nota_media = mean(nota_imdb, na.rm = TRUE)) |&gt; 
  mutate(nota_media = round(nota_media, 1)) |&gt; 
  ggplot(aes(x = ano, y = nota_media)) +
  geom_line() +
  geom_label(aes(label = nota_media))
```

&lt;img src="slides_files/figure-html/gglinhalabel-1.png" width="576" style="display: block; margin: auto;" /&gt;
]

---
# Gr√°fico de barras

Para construir gr√°ficos de barras, utilizamos o `geom_col`. A seguir, constru√≠mos um gr√°fico de barras do n√∫mero de filmes das 10 pessoas que mais dirigiram filmes na nossa base do IMDB.

.tiny[

```r
imdb |&gt; 
  count(direcao) |&gt;
  slice_max(order_by = n, n = 10) |&gt; 
  ggplot() +
  geom_col(aes(x = direcao, y = n))
```

&lt;img src="slides_files/figure-html/ggbarras-1.png" width="504" style="display: block; margin: auto;" /&gt;
]
---
&lt;br&gt;&lt;br&gt;

Gr√°ficos de barras tamb√©m precisam dos atributos `x` e `y`, sendo que o atributo `y` representar√° a altura de cada barra.

No gr√°fico anterior, vemos que o `NA` √© considerado uma "op√ß√£o" de direcao e entra no gr√°fico. Podemos retirar os `NAs` dessa coluna previamente utilizando a fun√ß√£o `filter()`.

A seguir, al√©m de retirar os `NAs`, atribu√≠mos a coluna `direcao` √† cor das colunas. Repare que, nesse caso, n√£o utilizamos o atributo `color` e sim `fill`. A regra √© a seguinte: o atributo `color` colore objetos sem √°rea (pontos, linhas, contornos), o atributo `fill` preenche objetos com cor (barras, √°reas, pol√≠gonos em geral).

---
&lt;br&gt;&lt;br&gt;

.tiny[

```r
imdb |&gt; 
  count(direcao) |&gt;
  filter(!is.na(direcao)) |&gt; 
  slice_max(order_by = n, n = 10) |&gt; 
  ggplot() +
  geom_col(
    aes(x = direcao, y = n, fill = direcao), show.legend = FALSE
  )
```

&lt;img src="slides_files/figure-html/ggbarracolorida-1.png" width="504" style="display: block; margin: auto;" /&gt;
]

---
&lt;br&gt;&lt;br&gt;

Para consertar as labels do eixo `x`, uma alternativa √© inverter os eixos do gr√°fico, construindo barras horizontais.

.tiny[

```r
imdb |&gt; 
  count(direcao) |&gt;
  filter(!is.na(direcao)) |&gt; 
  slice_max(order_by = n, n = 10) |&gt; 
  ggplot() +
  geom_col(
    aes(x = direcao, y = n, fill = direcao), show.legend = FALSE
  ) +
  coord_flip()
```

&lt;img src="slides_files/figure-html/ggbarracoordflip-1.png" width="504" style="display: block; margin: auto;" /&gt;
]

---
&lt;br&gt;&lt;br&gt;

Para ordenar as colunas, precisamos mudar a ordem dos n√≠veis do *fator* `direcao`. Para isso, utilizamos a fun√ß√£o `fct_reorder()` do pacote `forcats`. A nova ordem ser√° estabelecida pela coluna `n` (quantidade de filmes).

Fatores dentro do R s√£o n√∫meros inteiros (1, 2, 3, ...) que possuem uma representa√ß√£o textual. Vari√°veis categ√≥ricas s√£o transformadas em fatores pelo ggplot pois todo eixo cartesiano √© num√©rico. Assim, os textos de uma vari√°vel categ√≥rica s√£o, internamente, n√∫meros inteiros.

Por padr√£o, os inteiros s√£o atribu√≠dos a cada categoria de uma vari√°vel pela ordem alfab√©tica (repare na ordem das pessoas que dirigiram filmes nos gr√°ficos anteriores). Assim, se transform√°ssemos o vetor `c("banana", "uva", "melancia")` em um fator, a atribui√ß√£o de inteiros seria: "banana" vira 1, "melancia" vira 2 e "uva" vira 3. Embora sejam inteiros internamente, sempre que cham√°ssemos esse novo vetor, ainda sim ver√≠amos os textos "banana", "uva" e "melancia".

---
&lt;br&gt;&lt;br&gt;

.tiny[

```r
imdb |&gt; 
  count(direcao) |&gt;
  filter(!is.na(direcao)) |&gt; 
  slice_max(order_by = n, n = 10) |&gt; 
  mutate(direcao = forcats::fct_reorder(direcao, n)) |&gt; 
  ggplot() +
  geom_col(
    aes(x = direcao, y = n, fill = direcao),
    show.legend = FALSE
  ) +
  coord_flip()
```

&lt;img src="slides_files/figure-html/ggbarraforcats-1.png" width="504" style="display: block; margin: auto;" /&gt;
]

---
&lt;br&gt;&lt;br&gt;

Por fim, podemos colocar uma label com o n√∫mero de filmes de cada pessoa que dirigiu filmes dentro de cada barra.

.tiny[

```r
imdb |&gt; 
  count(direcao) |&gt;
  filter(!is.na(direcao)) |&gt; 
  slice_max(order_by = n, n = 10) |&gt; 
  mutate(direcao = forcats::fct_reorder(direcao, n)) |&gt; 
  ggplot() +
  geom_col(aes(x = direcao, y = n, fill = direcao), show.legend = FALSE) +
  geom_label(aes(x = direcao, y = n/2, label = n)) +
  coord_flip()
```

&lt;img src="slides_files/figure-html/ggbarralabel-1.png" width="504" style="display: block; margin: auto;" /&gt;
]

---
# Histograma

Para construir histogramas, usamos o `geom_histogram`. Esse `geom` s√≥ precisa do atributo `x` (o eixo y √© constru√≠do automaticamente). Histogramas s√£o √∫teis para avaliarmos a distribui√ß√£o de uma vari√°vel.

A seguir, constru√≠mos o histograma do lucro dos filmes do diretor Steven Spielberg.
O primeiro *warning* nos diz que o eixo x foi dividido em 30 intervalos para a constru√ß√£o do histograma.

---
&lt;br&gt;&lt;br&gt;


```r
imdb |&gt; 
  filter(direcao == "Steven Spielberg") |&gt;
  ggplot() +
  geom_histogram(aes(x = lucro))
```

```
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
```

&lt;img src="slides_files/figure-html/gghist-1.png" width="504" style="display: block; margin: auto;" /&gt;

---
&lt;br&gt;&lt;br&gt;

Para definir o tamanho de cada intervalo, podemos utilizar o argumento `bindwidth`.

.tiny[

```r
imdb |&gt; 
  filter(direcao == "Steven Spielberg") |&gt;
  ggplot() +
  geom_histogram(
    aes(x = lucro), 
    binwidth = 100000000,
    color = "white"
  )
```

&lt;img src="slides_files/figure-html/gghistbind-1.png" width="504" style="display: block; margin: auto;" /&gt;
]

---
# Boxplot

Boxplots tamb√©m s√£o √∫teis para estudarmos a distribui√ß√£o de uma vari√°vel, principalmente quando queremos comparar v√°rias distribui√ß√µes. 

Para construir um boxplot no ggplot, utilizamos a fun√ß√£o `geom_boxplot`. Ele precisa dos atributos `x` e `y`, sendo que ao atributo `x` devemos mapear uma vari√°vel categ√≥rica.

A seguir, constru√≠mos boxplots do lucro dos filmes das pessoas que dirigiram de 15 filmes.

---
&lt;br&gt;&lt;br&gt;

.tiny[

```r
direcao_mais_15_filmes &lt;- imdb |&gt; 
  filter(!is.na(direcao), !is.na(lucro) ) |&gt;
  group_by(direcao) |&gt; 
  count(direcao, sort = TRUE) |&gt; 
  filter(n &gt;= 15)
imdb |&gt; 
  filter(direcao %in% direcao_mais_15_filmes$direcao) |&gt; 
  ggplot() +
  geom_boxplot(aes(x = direcao, y = lucro)) +
  coord_flip()
```

&lt;img src="slides_files/figure-html/ggboxplot-1.png" width="504" style="display: block; margin: auto;" /&gt;
]

---
&lt;br&gt;&lt;br&gt;

Tamb√©m podemos reordenar a ordem dos boxplots utilizando a fun√ß√£o `forcats::fct_reorder`.

.tiny[

```r
imdb |&gt; 
  filter(direcao %in% direcao_mais_15_filmes$direcao) |&gt; 
  mutate(direcao = forcats::fct_reorder(direcao, lucro, .na_rm = TRUE)) |&gt; 
  ggplot() +
  geom_boxplot(aes(x = direcao, y = lucro)) +
  coord_flip()
```

&lt;img src="slides_files/figure-html/ggboxplotreorder-1.png" width="504" style="display: block; margin: auto;" /&gt;
]

---
# T√≠tulos, labels e escalas

Para colocar t√≠tulos no gr√°fico ou trocar as labels dos atributos, utilizamos a fun√ß√£o `labs()`. 

Para mudar as escalas (textos e quebras), utilizamos as fun√ß√µes da fam√≠lia `scale_`.

Podemos usar a fun√ß√£o `coord_cartesian()` para definir qual por√ß√£o do gr√°fico deve ser mostrada.

---
&lt;br&gt;&lt;br&gt;

Colocando t√≠tulo, subt√≠tulo e mudando as labels.

.tiny[

```r
imdb |&gt;
  ggplot() +
  geom_point(mapping = aes(x = orcamento, y = receita, color = lucro)) +
  labs(
    x = "Or√ßamento ($)", y = "Receita ($)", color = "Lucro ($)",
    title = "Gr√°fico de dispers√£o", subtitle = "Receita vs Or√ßamento"
  )
```

&lt;img src="slides_files/figure-html/gglabs-1.png" width="504" style="display: block; margin: auto;" /&gt;
]

---
&lt;br&gt;&lt;br&gt;

Mudando as quebras dos eixos `x` e `y`.

.tiny[

```r
imdb |&gt; 
  group_by(ano) |&gt; 
  summarise(nota_media = mean(nota_imdb, na.rm = TRUE)) |&gt; 
  ggplot() +
  geom_line(aes(x = ano, y = nota_media)) +
  scale_x_continuous(breaks = seq(1916, 2016, 10)) +
  scale_y_continuous(breaks = seq(0, 10, 2))
```

&lt;img src="slides_files/figure-html/ggscale-1.png" width="504" style="display: block; margin: auto;" /&gt;
]

---
&lt;br&gt;&lt;br&gt;

Mudando a escala do gr√°fico.

.tiny[

```r
imdb |&gt; 
  group_by(ano) |&gt; 
  summarise(nota_media = mean(nota_imdb, na.rm = TRUE)) |&gt; 
  ggplot() +
  geom_line(aes(x = ano, y = nota_media)) +
  scale_x_continuous(breaks = seq(1916, 2016, 10)) +
  scale_y_continuous(breaks = seq(0, 10, 2)) +
  coord_cartesian(ylim = c(0, 10))
```

&lt;img src="slides_files/figure-html/ggcoordcartesian-1.png" width="504" style="display: block; margin: auto;" /&gt;
]

---
# Cores

Tamb√©m existe fun√ß√µes `scale` para os atributos de cor: `scale_color_` e `scale_fill_`. 

Para escolher manualmente as cores de um gr√°fico, utilize as fun√ß√µes 
`scale_color_manual` e `scale_fill_manual()`.

Para trocar o nome nas legendas geradas por atributos de cor, utilize as fun√ß√µes `scale_color_discrete` e `scale_fill_discrete`.

---
&lt;br&gt;&lt;br&gt;

Substituindo as cores padr√£o do gr√°fico por um outro conjunto de cores.

.tiny[

```r
imdb |&gt; 
  count(direcao) |&gt;
  filter(!is.na(direcao)) |&gt; 
  slice_max(order_by = n, n = 5) |&gt; 
  ggplot() +
  geom_col(aes(x = direcao, y = n, fill = direcao), show.legend = FALSE) +
  coord_flip() +
  scale_fill_manual(values = c("red", "blue", "green", "pink", "purple"))
```

&lt;img src="slides_files/figure-html/ggfillmanual-1.png" width="504" style="display: block; margin: auto;" /&gt;
]

---
&lt;br&gt;&lt;br&gt;

Tamb√©m podemos usar c√≥digos hexadecimais.

.tiny[

```r
imdb |&gt; 
  count(direcao) |&gt;
  filter(!is.na(direcao)) |&gt; 
  slice_max(order_by = n, n = 5) |&gt; 
  ggplot() +
  geom_col(aes(x = direcao, y = n, fill = direcao), show.legend = FALSE) +
  coord_flip() +
  scale_fill_manual(
    values = c("#ff4500", "#268b07", "#ff7400", "#0befff", "#a4bdba")
  )
```

&lt;img src="slides_files/figure-html/ggfillhex-1.png" width="504" style="display: block; margin: auto;" /&gt;
]

---
&lt;br&gt;&lt;br&gt;

Trocando os textos da legenda.

.tiny[

```r
imdb |&gt; 
  mutate(sucesso_nota = case_when(nota_imdb &gt;= 7 ~ "sucesso_nota_imbd",
                                  TRUE ~ "sem_sucesso_nota_imdb")) |&gt;
  group_by(ano, sucesso_nota) |&gt; 
  summarise(num_filmes = n(), .groups = "drop") |&gt; 
  ggplot() +
  geom_line(aes(x = ano, y = num_filmes, color = sucesso_nota)) +
  scale_color_discrete(labels = c("Nota menor que 7", "Nota maior ou igual √† 7"))
```

&lt;img src="slides_files/figure-html/gglabelslegenda-1.png" width="504" style="display: block; margin: auto;" /&gt;
]

---
# Temas

Os gr√°ficos que vimos at√© agora usam o tema padr√£o do ggplot2. Existem outros temas prontos para utilizarmos presentes na fam√≠lia de fun√ß√µes `theme_`.

Voc√™ tamb√©m pode criar o seu pr√≥prio tema utilizando a fun√ß√£o `theme()`. Nesse caso, para trocar os elementos est√©ticos do gr√°fico precisamos usar as fun√ß√µes `element_text()` para textos, `element_line()` para linhas, `element_rect()` para √°reas e `element_blank()` para remover elementos.

---
&lt;br&gt;&lt;br&gt;


```r
imdb |&gt; 
  ggplot() +
  geom_point(mapping = aes(x = orcamento, y = receita)) +
  theme_minimal() 
```

&lt;img src="slides_files/figure-html/ggthememinimal-1.png" width="360" style="display: block; margin: auto;" /&gt;

---
&lt;br&gt;&lt;br&gt;


```r
imdb |&gt; 
  ggplot() +
  geom_point(mapping = aes(x = orcamento, y = receita)) +
  theme_bw()
```

&lt;img src="slides_files/figure-html/ggthemebw-1.png" width="360" style="display: block; margin: auto;" /&gt;

---
&lt;br&gt;&lt;br&gt;


```r
imdb |&gt; 
  ggplot() +
  geom_point(mapping = aes(x = orcamento, y = receita)) +
  theme_classic()
```

&lt;img src="slides_files/figure-html/ggthemeclassic-1.png" width="360" style="display: block; margin: auto;" /&gt;

---
&lt;br&gt;&lt;br&gt;

&lt;img src="slides_files/figure-html/ggthemedark-1.png" width="360" style="display: block; margin: auto;" /&gt;

---
&lt;br&gt;&lt;br&gt;

Criando um pr√≥prio tema.

.tiny[


```r
imdb |&gt; 
  ggplot() +
  geom_point(mapping = aes(x = orcamento, y = receita), color = "white") +
  labs(title = "Gr√°fico de dispers√£o", subtitle = "Receita vs Or√ßamento") +
  theme(
    plot.title = element_text(hjust = 0.5),
    plot.subtitle = element_text(hjust = 0.5),
    axis.title = element_text(color = "purple"),
    panel.background = element_rect(fill = "black"),
    panel.grid = element_blank()
  )
```

&lt;img src="slides_files/figure-html/ggthemealterado-1.png" width="504" style="display: block; margin: auto;" /&gt;

]

---

# Vamos ao R!

&lt;img src="img/cat.gif" style="display: block; margin: auto;" /&gt;


---
class: middle, center, inverse

# Otimiza√ß√£o Visual

---
# Objetivos de aprendizagem

‚¨ú Discutir os principais aspectos visuais a serem considerados em um gr√°fico estat√≠stico

--

‚¨ú Compreender como modificar um `ggplot` para comunicar resultados de maneira eficiente.

--

‚¨ú Otimizar um gr√°fico que utilizamos na aula anterior.

---

# O que √© otimiza√ß√£o visual?

- √â o ato de trabalhar em uma visualiza√ß√£o aprimorar a comunica√ß√£o.

- Pode envolver altera√ß√µes nas cores, fontes, elementos geom√©tricos, entre outros, a partir de um gr√°fico explorat√≥rio.

- N√£o √© uma ci√™ncia exata, mas recolhe elementos da ci√™ncia para aumentar a probabilidade de sucesso da visualiza√ß√£o.

---

# Recursos pr√©-atentativos

- Uma propriedade visual pr√©-atentativa √© processada pelo nosso [c√©rebro antes de uma a√ß√£o consciente](https://www.interaction-design.org/literature/article/preattentive-visual-properties-and-how-to-use-them-in-information-visualization).

- Como isso esse processamento √© muito r√°pido, trata-se de uma oportunidade para tornar visualiza√ß√µes mais amig√°veis e diretamente interpretadas.

- Segundo [Colin Ware](https://en.wikipedia.org/wiki/Colin_Ware), existem 4 propriedades pr√©-atentativas que podemos explorar:
    - Cor
    - Forma
    - Movimento
    - Posicionamento
    
- O objetivo dos recursos pr√©-atentativos √© __&lt;span style="color:blue;"&gt;chamar a aten√ß√£o&lt;/span&gt;__.

---

# Recursos pr√©-atentativos

- Uma propriedade visual pr√©-atentativa √© processada pelo nosso [c√©rebro antes de uma a√ß√£o consciente](https://www.interaction-design.org/literature/article/preattentive-visual-properties-and-how-to-use-them-in-information-visualization).

- Como isso esse processamento √© muito r√°pido, trata-se de uma oportunidade para tornar visualiza√ß√µes mais amig√°veis e diretamente interpretadas.

- Segundo [Colin Ware](https://en.wikipedia.org/wiki/Colin_Ware), existem 4 propriedades pr√©-atentativas que podemos explorar:
    - __Cor__
    - __Forma__
    - Movimento
    - Posicionamento
    
- O objetivo dos recursos pr√©-atentativos √© __&lt;span style="color:blue;"&gt;chamar a aten√ß√£o&lt;/span&gt;__.

---
class: inverse, middle

##### E por √∫ltimo isso

&lt;br/&gt;&lt;br/&gt;

# Primeiro voc√™ ler√° isso

&lt;br/&gt;&lt;br/&gt;

### Depois voc√™ ler√° isso

&lt;br/&gt;&lt;br/&gt;

#### Ent√£o isso

---
class: middle, center

# Cor

---

# Cores do zero: HCL vs RGB

- HCL (hue, chroma, luminance) √© vantajoso pois √© mais intuitivo de criar do que RGB, j√° que o HCL tem apenas um eixo de cores (*hue*), enquanto RGB √© uma composi√ß√£o de tr√™s (*red*, *green*, *blue*)

- O pacote `{colorspace}` permite usar HCL para definir uma cor/paleta: experimente `colorspace::hcl_color_picker()`

- [Nesse site](https://color.adobe.com/create/color-wheel), tamb√©m √© poss√≠vel criar algumas paletas

&lt;img src="img/hcl.png" width="70%" style="display: block; margin: auto;" /&gt;

---

# Paletas de cores prontas

- __Escalas qualitativas__: utilizado para vari√°veis nominais (sexo, cor/ra√ßa)

- __Escalas divergentes__: utilizado para vari√°veis que t√™m um centro neutro (favor√°vel/neutro/desfavor√°vel, correla√ß√£o)

- __Escalas sequenciais__: utilizado para vari√°veis ordinais (faixa et√°ria, renda)

- __Viridis__: √∫til para comunicar com pessoas com daltonismo

---

# Paletas de cores no {ggplot2}

- `scale_*_brewer()`: utilizada para vari√°veis discretas. Possui tr√™s tipos: divergente, qualitativa e sequencial.

- `scale_*_distiller()`: utilizada para vari√°veis cont√≠nuas. Interpola as cores do *brewer* para lidar com todos os valores.

- `scale_*_fermenter()`: utilizada para vari√°veis cont√≠nuas, que s√£o transformadas em discretas (binned).

- `scale_*_viridis_[cdb]`: Escala viridis para vari√°veis `c`ont√≠nuas, `d`iscretas ou `b`inned.

- `scale_*_manual()`: inclui um conjunto de cores manualmente.

---

# Paletas de outros pacotes

- [`{ggthemr}`](https://github.com/Mikata-Project/ggthemr) tem um monte de paletas, mas est√° um pouco desatualizado.

- [`{hrbrthemes}`](https://github.com/hrbrmstr/hrbrthemes) cont√©m uma lista de temas escolhidos pelo Bob Rudis.

- [`{ghibli}`](https://ewenme.github.io/ghibli/) tem paletas de cores relacionadas ao Studio Ghibli

- [`{paletteer}`](https://github.com/EmilHvitfeldt/paletteer) tem uma cole√ß√£o de cores de v√°rios outros pacotes de paletas.

---

# Qual visualiza√ß√£o √© melhor?

.pull-left[

&lt;img src="slides_files/figure-html/unnamed-chunk-23-1.png" width="1500" style="display: block; margin: auto;" /&gt;

]


.pull-right[

&lt;img src="slides_files/figure-html/unnamed-chunk-24-1.png" width="1500" style="display: block; margin: auto;" /&gt;

]

---

# √â subjetivo...

&lt;img src="img/same-picture.jpg" width="533" style="display: block; margin: auto;" /&gt;


---
class: middle, center

# Forma

---

# Formas

- Geralmente queremos contrastar formas para chamar a aten√ß√£o...

--

- Sem com isso fazer uma bagun√ßa visual.

--

- A ideia √© utilizar apenas um elemento, como tamanho, forma, largura, marca√ß√µes, angula√ß√µes, etc. para mostrar o contraste.


---

# Exemplos


&lt;img src="slides_files/figure-html/unnamed-chunk-26-1.png" width="2700" style="display: block; margin: auto;" /&gt;

---

# Princ√≠pios Gestalt

- __Gestalt__ √© uma √°rea ampla da psicologia que n√£o vamos aprofundar.

- Est√° ligada √† ideia de que, em uma visualiza√ß√£o, o todo √© maior do que a soma das partes.

- Dois princ√≠pios Gestalt aplic√°veis em visualiza√ß√£o de dados s√£o a nossa capacidade de:
    - Completar figuras
    - Agrupar objetos

- Ou seja, podemos criar visualiza√ß√µes que ativam essas capacidades.

---

# Qual visualiza√ß√£o √© melhor?

.pull-left[


&lt;img src="slides_files/figure-html/unnamed-chunk-27-1.png" width="1800" style="display: block; margin: auto;" /&gt;

]

.pull-right[


&lt;img src="slides_files/figure-html/unnamed-chunk-28-1.png" width="1800" style="display: block; margin: auto;" /&gt;

]

---

# Vamos ao R!

&lt;img src="img/cat.gif" style="display: block; margin: auto;" /&gt;

---
class: inverse, middle, center

# Extens√µes do ggplot2

---

# Objetivos de aprendizagem

‚¨ú Conhecer extens√µes do `{ggplot2}`

‚¨ú Experimentar extens√µes separadamente

‚¨ú Estudar um exemplo juntando v√°rias extens√µes.

---

# O que √© uma extens√£o?

- O `{ggplot2}` √© maravilhoso, mas n√£o possui todos os gr√°ficos poss√≠veis.

- Por isso, pessoas do mundo todo desenvolvem extens√µes para a comunidade usar, que v√£o desde pacotes com novos temas/cores, geometrias eixos at√© a [possibilidade de desenhar gatinhos em barras](https://coolbutuseless.github.io/package/ggpattern/index.html)

- A equipe do tidyverse mant√©m uma [lista curada de extens√µes do `{ggplot2}`](https://exts.ggplot2.tidyverse.org/gallery/)

---

# Como criar uma extens√£o?

- A [edi√ß√£o mais recente](https://ggplot2-book.org/extensions.html) do livro do `{ggplot2}` possui um tutorial de como criar extens√µes para o pacote.

- ‚ö†Ô∏è  Cuidado! Criar extens√µes do `{ggplot2}` n√£o √© f√°cil. Trata-se de um pacote complexo, exigindo bastante conhecimento de elementos internos do R.

- Uma forma legal de estudar extens√µes √© olhando o c√≥digo de pacotes. Recomendamos as extens√µes do [Thomas Lin Pedersen](https://github.com/thomasp85), j√° que ele √© o mantenedor atual do `{ggplot2}` e, portanto, conhece muito bem as melhores pr√°ticas para criar extens√µes.

---

# Vamos ao R!

&lt;img src="img/cat.gif" style="display: block; margin: auto;" /&gt;

---
class: inverse, middle, center

# Interatividade

---

# Objetivos de aprendizagem

‚¨ú Conhecer a diferen√ßa entre visualiza√ß√µes est√°ticas e din√¢micas

‚¨ú Experimentar algumas visualiza√ß√µes

‚¨ú Cobrir temas que n√£o foram abordados no curso e encerrar.

---

## Gr√°ficos interativos e est√°ticos

- Gr√°ficos interativos t√™m o poder de engajar mais, por conta do efeito *voosh*. Todo ser humano gosta de interagir com aquilo que est√° analisando.

- No entanto, isso vem com um custo: n√£o s√£o todos os documentos capazes de processar visualiza√ß√µes din√¢micas. Em particular, PDF, Word e PPT n√£o rodam esses conte√∫dos.

- Vamos visitar tanto o mundo est√°tico quanto din√¢mico, para que voc√™ saiba por onde come√ßar quando receber um novo desafio.


---

## htmlwidgets

`htmlwidgets` s√£o bibliotecas de visualiza√ß√£o JavaScript encapsuladas em pacotes de R. Elas nos permitem usar diversas ferramentas JavaScript diretamente do R, adicionando algumas poucas linhas de c√≥digo em nosso script.

Usando `htmlwidgets`, conseguimos construir tabelas, gr√°ficos, mapas e muito outras visualiza√ß√µes interativas e naturalmente bonitas.

[Clique aqui](https://www.htmlwidgets.org/index.html) para acessar uma lista completa de todos os `htmlwidgets` dispon√≠veis.

---
## Tabelas com reactable

O pacote `reactable` nos permite criar tabelas interativas baseadas na biblioteca [React Table](https://github.com/tannerlinsley/react-table). 

[Clique aqui](https://glin.github.io/reactable/) para acessar o tutorial completo do pacote `{reactable}`.

---
&lt;br&gt;&lt;br&gt;

A interatividade dos `htmlwidgets` n√£o depende de uma sess√£o R rodando por tr√°s. Voc√™ pode utiliz√°-los em qualquer documento `.html`.

<div class="reactable html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-070817823f5db601570c" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-070817823f5db601570c">{"x":{"tag":{"name":"Reactable","attribs":{"data":{".rownames":["Mazda RX4","Mazda RX4 Wag","Datsun 710","Hornet 4 Drive","Hornet Sportabout","Valiant","Duster 360","Merc 240D","Merc 230","Merc 280","Merc 280C","Merc 450SE","Merc 450SL","Merc 450SLC","Cadillac Fleetwood","Lincoln Continental","Chrysler Imperial","Fiat 128","Honda Civic","Toyota Corolla","Toyota Corona","Dodge Challenger","AMC Javelin","Camaro Z28","Pontiac Firebird","Fiat X1-9","Porsche 914-2","Lotus Europa","Ford Pantera L","Ferrari Dino","Maserati Bora","Volvo 142E"],"mpg":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"cyl":[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],"disp":[160,160,108,258,360,225,360,146.7,140.8,167.6,167.6,275.8,275.8,275.8,472,460,440,78.7,75.7,71.1,120.1,318,304,350,400,79,120.3,95.1,351,145,301,121],"hp":[110,110,93,110,175,105,245,62,95,123,123,180,180,180,205,215,230,66,52,65,97,150,150,245,175,66,91,113,264,175,335,109],"drat":[3.9,3.9,3.85,3.08,3.15,2.76,3.21,3.69,3.92,3.92,3.92,3.07,3.07,3.07,2.93,3,3.23,4.08,4.93,4.22,3.7,2.76,3.15,3.73,3.08,4.08,4.43,3.77,4.22,3.62,3.54,4.11],"wt":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"qsec":[16.46,17.02,18.61,19.44,17.02,20.22,15.84,20,22.9,18.3,18.9,17.4,17.6,18,17.98,17.82,17.42,19.47,18.52,19.9,20.01,16.87,17.3,15.41,17.05,18.9,16.7,16.9,14.5,15.5,14.6,18.6],"vs":[0,0,1,1,0,1,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,0,1,0,0,0,1],"am":[1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1],"gear":[4,4,4,3,3,3,3,4,4,4,4,3,3,3,3,3,3,4,4,4,3,3,3,3,3,4,5,5,5,5,5,4],"carb":[4,4,1,1,2,1,4,2,2,4,4,3,3,3,4,4,4,1,2,1,1,2,2,4,2,1,2,2,4,6,8,2]},"columns":[{"id":".rownames","name":"","type":"character","sortable":false,"filterable":false,"rowHeader":true},{"id":"mpg","name":"mpg","type":"numeric"},{"id":"cyl","name":"cyl","type":"numeric"},{"id":"disp","name":"disp","type":"numeric"},{"id":"hp","name":"hp","type":"numeric"},{"id":"drat","name":"drat","type":"numeric"},{"id":"wt","name":"wt","type":"numeric"},{"id":"qsec","name":"qsec","type":"numeric"},{"id":"vs","name":"vs","type":"numeric"},{"id":"am","name":"am","type":"numeric"},{"id":"gear","name":"gear","type":"numeric"},{"id":"carb","name":"carb","type":"numeric"}],"defaultPageSize":4,"striped":true,"compact":true,"dataKey":"5b3b1b9433e88dd26cbc4c3644e92607"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>


---
## Pacotes alternativos para tabelas

A seguir, uma lista de pacotes/fun√ß√µes alternativos que trazem solu√ß√µes para visualiza√ß√£o de tabelas.

- `knitr::kable()`: n√£o √© um htmlwidget (n√£o possui interatividade), mas √© uma solu√ß√£o para formatar tabelas quando n√£o precisamos que elas sejam interativas. Funciona em conjunto com o pacote `{kableExtra}`.

- `{flextable}`: tamb√©m n√£o √© interativo, √© um excelente pacote para editar tabelas. Funciona quando trabalhamos com relat√≥rios em Word, e tamb√©m integra bem com o pacote `{DT}`.

- `DT::datatable()`: outro htmlwidget para criar tabelas interativas. Funciona tal como o `reactable()`, mas um pouco mais burocr√°tico para formatar as tabelas. Baseado na biblioteca JavaScript [DataTables](http://datatables.net/).

#### Tutoriais

- [Tutorial kable e kableExtra](https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html)

- [Tutorial flextable](https://ardata-fr.github.io/flextable-book/)

- [Tutorial DT](https://rstudio.github.io/DT/)

---
## Gr√°ficos com plotly

O pacote `plotly` nos permite criar gr√°ficos interativos baseados na biblioteca [Plotly](https://plotly.com/) (constru√≠da em [D3](https://d3js.org/)). 

Embora seja poss√≠vel criar um plotly do zero usando a fun√ß√£o `plot_ly()`, um jeito muito eficiente de utilizar essa biblioteca √© criar um ggplot e ent√£o utilizar a fun√ß√£o `ggplotly()`. Veja o exemplo a seguir.

#### Tutoriais

- [Tutorial plotly](https://plotly.com/r/)

- [Interactive web-based data visualization with R, plotly, and shiny](https://plotly-r.com/)

---
&lt;br&gt;&lt;br&gt;

.pull-left[


```r
gg &lt;- ggplot(mtcars) +
  aes(wt, mpg) +
  geom_point()
plotly::ggplotly(
  p = gg, 
  height = 400
)
```

]

.pull-right[

<div id="htmlwidget-cd4d97e12c39f8d2e213" style="width:360px;height:400px;" class="plotly html-widget "></div>
<script type="application/json" data-for="htmlwidget-cd4d97e12c39f8d2e213">{"x":{"data":[{"x":[2.6200000000000001,2.875,2.3199999999999998,3.2149999999999999,3.4399999999999999,3.46,3.5699999999999998,3.1899999999999999,3.1499999999999999,3.4399999999999999,3.4399999999999999,4.0700000000000003,3.73,3.7799999999999998,5.25,5.4240000000000004,5.3449999999999998,2.2000000000000002,1.615,1.835,2.4649999999999999,3.52,3.4350000000000001,3.8399999999999999,3.8450000000000002,1.9350000000000001,2.1400000000000001,1.5129999999999999,3.1699999999999999,2.77,3.5699999999999998,2.7799999999999998],"y":[21,21,22.800000000000001,21.399999999999999,18.699999999999999,18.100000000000001,14.300000000000001,24.399999999999999,22.800000000000001,19.199999999999999,17.800000000000001,16.399999999999999,17.300000000000001,15.199999999999999,10.4,10.4,14.699999999999999,32.399999999999999,30.399999999999999,33.899999999999999,21.5,15.5,15.199999999999999,13.300000000000001,19.199999999999999,27.300000000000001,26,30.399999999999999,15.800000000000001,19.699999999999999,15,21.399999999999999],"text":["wt: 2.620<br />mpg: 21.0","wt: 2.875<br />mpg: 21.0","wt: 2.320<br />mpg: 22.8","wt: 3.215<br />mpg: 21.4","wt: 3.440<br />mpg: 18.7","wt: 3.460<br />mpg: 18.1","wt: 3.570<br />mpg: 14.3","wt: 3.190<br />mpg: 24.4","wt: 3.150<br />mpg: 22.8","wt: 3.440<br />mpg: 19.2","wt: 3.440<br />mpg: 17.8","wt: 4.070<br />mpg: 16.4","wt: 3.730<br />mpg: 17.3","wt: 3.780<br />mpg: 15.2","wt: 5.250<br />mpg: 10.4","wt: 5.424<br />mpg: 10.4","wt: 5.345<br />mpg: 14.7","wt: 2.200<br />mpg: 32.4","wt: 1.615<br />mpg: 30.4","wt: 1.835<br />mpg: 33.9","wt: 2.465<br />mpg: 21.5","wt: 3.520<br />mpg: 15.5","wt: 3.435<br />mpg: 15.2","wt: 3.840<br />mpg: 13.3","wt: 3.845<br />mpg: 19.2","wt: 1.935<br />mpg: 27.3","wt: 2.140<br />mpg: 26.0","wt: 1.513<br />mpg: 30.4","wt: 3.170<br />mpg: 15.8","wt: 2.770<br />mpg: 19.7","wt: 3.570<br />mpg: 15.0","wt: 2.780<br />mpg: 21.4"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":22.575342465753426,"r":7.3059360730593621,"b":36.529680365296812,"l":37.260273972602747},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1.3174499999999998,5.6195500000000003],"tickmode":"array","ticktext":["2","3","4","5"],"tickvals":[2,3,4,5],"categoryorder":"array","categoryarray":["2","3","4","5"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"wt","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[9.2249999999999996,35.074999999999996],"tickmode":"array","ticktext":["10","15","20","25","30","35"],"tickvals":[10,15,20,25,30,35],"categoryorder":"array","categoryarray":["10","15","20","25","30","35"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"mpg","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","height":400,"barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"102b237e8941":{"x":{},"y":{},"type":"scatter"}},"cur_data":"102b237e8941","visdat":{"102b237e8941":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>


]


---
## Pacotes alternativos

A seguir, uma lista de pacotes/fun√ß√µes alternativos que trazem solu√ß√µes para visualiza√ß√£o de gr√°ficos.

- `highcharter::highcharter()`: pacote gr√°fico baseado na biblioteca JavaScript [Highcharts](https://www.highcharts.com/). A biblioteca Highcharts √© gratuita apenas para fins educacionais e n√£o lucrativos (exceto √≥rg√£os governamentais). Para outros usos, voc√™ pode precisar de uma licen√ßa. **[avan√ßado]**

- Procure por pacotes para tipos espec√≠ficos de gr√°ficos na [galeria de htmlwidgets](http://gallery.htmlwidgets.org/).

#### Tutoriais

- [Tutorial highcharter](http://jkunst.com/highcharter/)

- [Documenta√ß√£o Highcharts](https://api.highcharts.com/highcharts/)

---
## Mapas com leaflet

O pacote `{leaflet}` nos permite criar mapas interativos baseados na biblioteca  JavaScript open-source [Leaflet](https://leafletjs.com/).

Para criar um mapa leaflet, utilizamos a fun√ß√£o `leaflet::leaflet()` e diversas fun√ß√µes auxiliares para caracterizar nosso mapa. Um tutorial de como utilizar o `leaflet` se encontra [aqui](http://rstudio.github.io/leaflet/).

A seguir, mostramos um exemplo simples de como criar um mapa leaflet.

---
&lt;br&gt;&lt;br&gt;



```r
library(leaflet)

leaflet(height = 300) |&gt;
  addTiles() |&gt;  # Adiciona a camada gr√°fica do OpenStreetMap (padr√£o)
  addMarkers(
    lng = -46.6623969, lat = -23.5581664, 
    popup = "A Curso-R morava aqui antes da pandemia. Agora ela mora no mundo todo!"
  )
```

<div id="htmlwidget-fd99e60b8636fe7f1fb5" style="width:360px;height:300px;" class="leaflet html-widget "></div>
<script type="application/json" data-for="htmlwidget-fd99e60b8636fe7f1fb5">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addMarkers","args":[-23.5581664,-46.6623969,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},"A Curso-R morava aqui antes da pandemia. Agora ela mora no mundo todo!",null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-23.5581664,-23.5581664],"lng":[-46.6623969,-46.6623969]}},"evals":[],"jsHooks":[]}</script>

---
## Pacotes alternativos

- `highcharter::hcmap()`: varia√ß√£o do `highcharter` para mapas, baseada na biblioteca JavaScript [Highcharts](https://www.highcharts.com/maps/demo). **[avan√ßado]**

- [`{tmap}`](https://github.com/mtennekes/tmap): Pacote focado em mapas tem√°ticos.

#### Tutoriais

- [Construindo mapas com o highcharter](http://jkunst.com/highcharter/highmaps.html)

- [Documenta√ß√£o Highmaps](https://api.highcharts.com/highmaps/)

- [Documenta√ß√£o do tmap](https://github.com/mtennekes/tmap)


---
## Refer√™ncias e material extra

.pull-left[

#### htmlwidgets

- [Galeria htmlwidgets](http://gallery.htmlwidgets.org/)

#### reactable

- [A biblioteca React Table](https://github.com/tannerlinsley/react-table)
- [Tutorial reactable](https://glin.github.io/reactable/)

#### DT

- [Tutorial DT](https://rstudio.github.io/DT/)

#### plotly

- [Tutorial plotly](https://plotly.com/r/)

- [Interactive web-based data visualization with R, plotly, and shiny](https://plotly-r.com/)

]

.pull-right[

#### highcharter/highcharts

- [Tutorial highcharter](http://jkunst.com/highcharter/)

- [Biblioteca Highcharts](https://www.highcharts.com/)

- [Galeria Highcharts](https://www.highcharts.com/demo)

- [Documenta√ß√£o Highcharts](https://api.highcharts.com/highcharts/)

#### leaflet

- [Biblioteca Leaflet](https://leafletjs.com/)

- [Tutorial Leaflet](http://rstudio.github.io/leaflet/)

#### highmaps

- [Galeria Highmaps](https://www.highcharts.com/maps/demo)

- [Documenta√ß√£o Highmaps](https://api.highcharts.com/highmaps/)


]

---
# Vamos ao R!

&lt;img src="img/cat.gif" style="display: block; margin: auto;" /&gt;


---
class: middle, center, inverse

# Fim!

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:11"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
